window.onload=function(){
  var formulario = document.forms[0];
  //agregar manejador de evento para el formulario
  if(document.addEventListener){
    formulario.addEventListener("submit", validarFormulario);
  }
  else if(document.attachEvent){
    formulario.attachEvent("onsubmit", validarFormulario);
  }
}
function validarFormulario(event){
  var inputEmail = document.getElementById('email');
  //validar código de cliente


  //validar correo electrónico
  if(!validarEmail(inputEmail.value)){
    console.log("email no valido");
    event.preventDefault();//evitar que formulario se envie
    return false;//dirección de correo no válida
  }
  //validar número de factura
  var numFactura = document.getElementById("numFactura");
  if(numFactura.value.length != 3){
    alert("ingrese los 3 numeros de la factura");
    return false;}

    for (i=0; i< du.value.length; i++){
      if(isNaN(parseInt(du.value.charAt(i)))==true)
      {
        alert("Solamente se permiten numeros");
      }
    }
    
  //formato es digito-3digitos
}


  //validar monto a pagar, solo aceptar valores en coma flotate,
   function validarmonto(){

    var montoPagar = document.getElementById("montoPagar");
    if (!isNaN(monto) && monto.toString().indexOf('.') != -1) && parseFloat(monto) > 0.0{
      alert("el monto no puede estar vacio");
      return false;
    
    }


    for (i=0; i< du.value.length; i++){
      if(isNaN(parseInt(du.value.charAt(i)))==true)
      {
        alert("Solamente se permiten numeros");
      }
    }
  //por ejemplo: 133.30 o 1020.15


  //validar tarjeta de crédito
  function validartarjeta(){

    var numtarjeta = document.getElementById("numtarjeta");
    if(/^\d{4}-\d{4}-\d{4}-\d{4}$/.test("numtarjeta")) ) {
      alert("los campos de la tarjeta son incorrectos");
      return false;
    }

    for (i=0; i< du.value.length; i++){
      if(isNaN(parseInt(du.value.charAt(i)))==true)
      {
        alert("Solamente se permiten numeros");
      }
    }
    
  //formato valido es 3333-3333-3333-33333
  //16 digitos en grupos de 4 separados por guión



  //validar nombre tarjeta habiente, no debe ser vacío
  var tarjetaHabiente = document.getElementById("tarjetahabiente");
  if(tarjetaHabiente.value.trim().length==0){
    console.log("tarjeta habiente no puede ser vacío");
    event.preventDefault();
    return false;
  }

  //validar fecha de experición de tarjeta
  function validarfecha(){
    var mes = doument.getElementById("mes").value;
    var ano = doument.getElementById("ano").value;

    var fechaexp = new Date(mes, ano);
    if (/^\d{2}-\d{2}$/ isNaN(fecha)){
      alert("los campos de la feha son incorrectos");
      return false;
    }
  }
  //formato es mm-aa (dos digitos para mes, guión, dos digitos para año)
  //por ejemplo: 09-18

  //Si todo fue validado, retornar true
  console.log("ok");
  return true;
}
function getTarget(e){
  var target;
  if(e.target)
    target = e.target;
  else if(e.srcElement)
    target = e.srcElement;
  if(target.nodeType==3) //safari
    target = target.parentNode;

  return target;
}
function validarEmail(email){
  //expresión regular para validar correo
  var re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\b/;
  return re.test(email);
}
